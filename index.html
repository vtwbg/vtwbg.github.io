<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8"/>

    <title>/vtwbg/ Map Viewer</title>

    <style>
      body {
        font-size: 15px;
        background-color: lightgray;
      }

      h1 {
        font-size: 30px;
        margin-left: 50px;
      }

      img {
        width: 50%;
        display: none;
      }

      p {
        margin-top: .5em;
        margin-bottom: .5em;
        margin-left: 50px;
      }

      .wrapper {
        overflow-x: auto;
        white-space: nowrap;
        width: 50%;
      }

      .z1{z-index:1;position:absolute;}
      .z2{z-index:2;position:absolute;}
      .z3{z-index:3;position:absolute;}
      .z4{z-index:4;position:absolute;}
      .z5{z-index:5;position:absolute;}
      .z6{z-index:6;position:absolute;}
      .z7{z-index:7;position:absolute;}

    </style>

    <script>
        function full() {
            document.getElementById("top").style.display="block";
            document.getElementById("blank").style.display="";
            document.getElementById("flat").style.display="";
            document.getElementById("color").style.display="";
            document.getElementById("top2").style.display="block";
            document.getElementById("blank2").style.display="";
            document.getElementById("flat2").style.display="";
            document.getElementById("color2").style.display="";
        }
    </script>

    <script>
        function simple() {
            document.getElementById("top").style.display="";
            document.getElementById("blank").style.display="block";
            document.getElementById("flat").style.display="";
            document.getElementById("color").style.display="";
            document.getElementById("top2").style.display="";
            document.getElementById("blank2").style.display="block";
            document.getElementById("flat2").style.display="";
            document.getElementById("color2").style.display="";
        }
    </script>

    <script>
        function off() {
            document.getElementById("top").style.display="";
            document.getElementById("blank").style.display="block";
            document.getElementById("flat").style.display="block";
            document.getElementById("color").style.display="";
            document.getElementById("top2").style.display="";
            document.getElementById("blank2").style.display="block";
            document.getElementById("flat2").style.display="block";
            document.getElementById("color2").style.display="";
        }
    </script>

    <script>
        function color() {
            document.getElementById("top").style.display="";
            document.getElementById("blank").style.display="block";
            document.getElementById("flat").style.display="";
            document.getElementById("color").style.display="block";
            document.getElementById("top2").style.display="";
            document.getElementById("blank2").style.display="block";
            document.getElementById("flat2").style.display="";
            document.getElementById("color2").style.display="block";
        }
    </script>

    <script>
        function toggle(id) {
          var active=document.getElementById(id).style.display!="block";
          document.getElementById(id).style.display="block".repeat(active);
          document.getElementById(id+"2").style.display="block".repeat(active);
        }
      </script>

        <script>
            function wrap() {
              var active=document.getElementById("right").style.display=="none";
              document.getElementById("left").style.marginLeft=50*(1-active)+"px";
              document.getElementById("right").style.display=["block","none"][1-active];
            }
        </script>

        <script>
          function save() {
            var layers=["top","blank","flat","color","border","grid","label"];
            var wrap=document.getElementById("right").style.display=="block";
            if (wrap){
              var pic=document.getElementById("double");
            }
            else{
              var pic=document.getElementById("single");
            }
            layers.forEach(function(i){
              if (document.getElementById(i).style.display=="block"){
                pic.getContext("2d").drawImage(document.getElementById(i),0,0);
              }
            })
            if (wrap){
              layers.forEach(function(i){
                if (document.getElementById(i+"2").style.display=="block"){
                  pic.getContext("2d").drawImage(document.getElementById(i),6000,0);
                }
              })
            }
            var image = document.createElement("a");
            image.setAttribute("href", pic.toDataURL());
            image.setAttribute("download","map.png");
            image.click();
            image.remove();
          }
        </script>

  </head>

  <body>
    <h1>/vtwbg/ Map Viewer</h1>

<p>Terrain:</p>
  <button onclick="full()" style="margin-left: 50px">Full</button>
  <button onclick="simple()">Simple</button>
  <button onclick="off()">None</button>
  <button onclick="color()">Color</button>
  <p>Toggles:</p>
    <button onclick="toggle('border')" style="margin-left: 50px">Borders</button>
    <button onclick="toggle('grid')">Grid</button>
    <button onclick="toggle('label')">Labels</button>
    <button onclick="wrap()">Wrap</button>
  <p>Zoom:</p>
    <button id="plus" style="margin-left: 50px">+</button>
    <button id="minus">-</button>
    <button id="reset">Reset</button>
  <p>Tools:</p>
    <button onclick="save()" style="margin-left: 50px">Download</button>

  <script>
    var curr=50;
    var layers=["maps","top","blank","flat","color","border","grid","label","top2","blank2","flat2","color2","border2","grid2","label2"];
    function update(){
      layers.forEach(function(i){
        document.getElementById(i).style.width=curr+"%";
      })
    }
    document.getElementById("plus").addEventListener("click",function(){
      curr+=10;
      update();
    })
    document.getElementById("minus").addEventListener("click",function(){
      curr-=10;
      update();
    })
    document.getElementById("reset").addEventListener("click",function(){
      curr=50;
      update();
    })
  </script>

<br><br>

<div class="wrapper" id="maps">
  <canvas id="single" height="3000px" width="6000px" style="display:none"></canvas>
  <canvas id="double" height="3000px" width="12000px" style="display:none"></canvas>
  <div id="left" style="float:left;margin-left:50px">
    <img class="z1" id="top" src="base.png"/>
    <img class="z2" id="blank" src="land.png"/>
    <img class="z3" id="flat" src="flat.png"/>
    <img class="z4" id="color" src="colors.png"/>
    <img class="z5" id="border" src="borders.png"/>
    <img class="z6" id="grid" src="grid.png"/>
    <img class="z7" id="label" src="labels.png"/>
  </div>
  <div id="right" style="float:right;display:none">
    <img class="z1" id="top2" src="base.png"/>
    <img class="z2" id="blank2" src="land.png"/>
    <img class="z3" id="flat2" src="flat.png"/>
    <img class="z4" id="color2" src="colors.png"/>
    <img class="z5" id="border2" src="borders.png"/>
    <img class="z6" id="grid2" src="grid.png"/>
    <img class="z7" id="label2" src="labels.png"/>
  </div>
</div>
  </body>
</html>
